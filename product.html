<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">GarageMaster</div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="cart.html">Cart</a></li>
                    <li><a href="#">Profile</a></li>
                </ul>
            </nav>
            <div class="contact">
                <span>Contact Us At: garagemaster@gmail.com</span>
            </div>
            <div class="signinRegister" id="user-info">
                <!-- Dynamic sign-in info -->
            </div>
            <div class="cart">
                <a href="#"><img src="images/shopping-cart (1).png" alt="Cart"> 0</a>
            </div>            
        </div>
    </header>

    <main>
        <div class="container">
            <section class="product-details">
                <div class="product">
                    <!-- Product Images -->
                    <div class="product-images">
                        <img id="product-main-image" src="" alt="Main Product Image">
                        <div class="thumbnail-images">
                            <!-- <img src="images/product1.jpg" alt="Thumbnail 1">
                            <img src="images/product2.jpeg" alt="Thumbnail 2">
                            <img src="images/product3.jpg" alt="Thumbnail 3"> -->
                        </div>
                    </div>

                    <!-- Product Info -->
                    <h3 id="product-name"></h3>
                    <p id="product-price"></p>
                    <p id="product-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris non velit eu neque posuere.</p>

                    <!-- Quantity Selector -->
                    <div class="quantity">
                        <label for="quantity">Quantity:</label>
                        <input type="number" id="quantity" name="quantity" min="1" value="1">
                    </div>

                    <!-- Color Family -->
                    <div class="color-family">
                        <label for="color">Color Family:</label>
                        <select id="color" name="color">
                            <option value="rgb">RGB</option>
                            <option value="black">Black</option>
                            <option value="white">White</option>
                        </select>
                    </div>

                    <!-- Buttons -->
                    <div class="buttons">
                        <button class="add-to-cart">Add to Cart</button>
                        <button class="add-to-wishlist">Add to Wishlist</button>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 GarageMaster</p>
        </div>
    </footer>

    <script>
        // Function to extract query parameters
        function getQueryParams() {
            const urlParams = new URLSearchParams(window.location.search);
            return {
                name: urlParams.get('name'),
                price: urlParams.get('price'),
                image: urlParams.get('image')
            };
        }

        // Populate product details dynamically
        document.addEventListener("DOMContentLoaded", () => {
            const { name, price, image } = getQueryParams();

            if (name && price && image) {
                document.getElementById("product-name").textContent = name;
                document.getElementById("product-price").textContent = `৳ ${price}`;
                document.getElementById("product-main-image").src = image;
            } else {
                document.body.innerHTML = "<h1>Product not found!</h1>";
            }
        });
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f8f8;
        }

        header {
            background-color: #333;
            padding: 20px 0;
            color: #fff;
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
        }

        nav ul {
            list-style: none;
            padding: 0;
        }

        nav ul li {
            display: inline-block;
            margin: 0 15px;
        }

        nav ul li a {
            color: #fff;
            text-decoration: none;
        }

        .contact span {
            font-size: 14px;
        }

        .product-details {
            padding: 50px 0;
        }

        .product {
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .product-images {
            margin-bottom: 20px;
        }

        .thumbnail-images img {
            width: 50px;
            height: 50px;
            margin: 5px;
            cursor: pointer;
        }

        .product img {
            max-width: 100%;
            height: auto;
            margin-bottom: 20px;
        }

        .quantity,
        .color-family {
            margin: 20px 0;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .add-to-cart,
        .add-to-wishlist {
            padding: 12px 20px;
            border: none;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s ease;
        }

        .add-to-cart {
            background-color: orange;
            color: #fff;
        }

        .add-to-cart:hover {
            background-color: darkorange;
        }

        .add-to-wishlist {
            background-color: skyblue;
            color: #fff;
        }

        .add-to-wishlist:hover {
            background-color: deepskyblue;
        }

        footer {
            background-color: #333;
            color: #fff;
            padding: 20px 0;
            text-align: center;
        }
    </style>
    <script>
    // Function to get query parameters
    function getQueryParams() {
        const urlParams = new URLSearchParams(window.location.search);
        return {
            name: urlParams.get('name'),
            price: urlParams.get('price'),
            image: urlParams.get('image'),
        };
    }

    // Populate product details dynamically
    document.addEventListener("DOMContentLoaded", () => {
        const { name, price, image } = getQueryParams();

        if (name && price && image) {
            document.getElementById("product-name").textContent = name;
            document.getElementById("product-price").textContent = `৳ ${price}`;
            document.getElementById("product-main-image").src = image;

            // Add to cart functionality
            document.querySelector(".add-to-cart").addEventListener("click", () => {
                const quantity = document.getElementById("quantity").value;
                const color = document.getElementById("color").value;

                // Get existing cart data from localStorage
                const cart = JSON.parse(localStorage.getItem("cart")) || [];

                // Add product to the cart
                cart.push({
                    name,
                    price,
                    image,
                    quantity: parseInt(quantity),
                    color,
                });

                // Save updated cart to localStorage
                localStorage.setItem("cart", JSON.stringify(cart));

                // Redirect to cart page
                window.location.href = "cart.html";
            });
        } else {
            document.body.innerHTML = "<h1>Product not found!</h1>";
        }
    });
</script>
<script>
    // Display Signed-In Username
    document.addEventListener("DOMContentLoaded", () => {
        const username = localStorage.getItem("signedInUser");
        const userInfoDiv = document.getElementById("user-info");

        if (username) {
            userInfoDiv.innerHTML = `
                    <span>Welcome, ${username}</span>
                    <button id="logout">Logout</button>
                `;

            document.getElementById("logout").addEventListener("click", () => {
                localStorage.removeItem("signedInUser");
                window.location.reload();
            });
        } else {
            userInfoDiv.innerHTML = `<a href="signin.html">Sign In / Register</a>`;
        }
    });
</script>

</body>
</html>
